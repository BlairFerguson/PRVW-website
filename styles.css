/* ===== TOKENS â€” PRVW palette ===== */
:root{
  /* Core palette */
  --pine: #00403D;       /* dark primary */
  --mist: #B3CFCE;       /* soft neutral */
  --fluoro: #D9FF00;     /* accent */
  --frost: #E4DFDF;      /* light background */

  /* OFF (initial) */
  --bg: var(--frost);
  --fg: var(--pine);
  --muted: #335a57;      /* readable pine-50 */

  /* ON (inverted) */
  --bg-on: var(--pine);
  --fg-on: var(--frost);

  /* Accent + rings */
  --accent: var(--fluoro);
  --ring: rgba(217,255,0,.35);

  /* Surfaces & borders (derived) */
  --surface: rgba(0,64,61,0.06);      /* pine wash on light */
  --border:  rgba(0,64,61,0.22);

  --surface-on: rgba(228,223,223,0.06); /* frost wash on dark */
  --border-on:  rgba(228,223,223,0.22);

  --maxw:1200px;
  --radius:18px;

  /* Switch lozenge */
  --track-off-bg: var(--mist);
  --track-off-br: #8aa9a7;            /* mist-ish border */
  --track-on-bg: rgba(217,255,0,0.18);
  --track-on-br: rgba(217,255,0,0.65);
  --knob-off: var(--pine);
  --knob-on:  var(--fluoro);
}

@media (prefers-reduced-motion: reduce){
  *{animation:none!important;transition:none!important;}
}

*{box-sizing:border-box;}
html,body{height:100%;}
html{scroll-behavior:smooth;}
body{
  margin:0;
  font:16px/1.5 ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial;
  background:var(--bg); color:var(--fg);
  transition:background-color .5s ease, color .5s ease;
}
body.state-on{
  background:var(--bg-on); color:var(--fg-on);
  --surface: var(--surface-on);
  --border:  var(--border-on);
}

h1,h2,h3{margin:0 0 .6rem; line-height:1.2;}
h1{font-size:clamp(1.6rem, 1.1rem + 2.2vw, 2.6rem);}
h2{font-size:clamp(1.35rem,1.1rem + 1vw,2rem);}
p{margin:0;}
a{color:var(--accent); text-decoration:none;}
a:hover{text-decoration:underline;}
.container{max-width:var(--maxw); margin:0 auto; padding:0 20px;}

/* ===== NAV (desktop + mobile-safe) ===== */
.nav{
  position: sticky; top: -1px; z-index: 50;
  display: flex; align-items: center; justify-content: space-between;
  gap: 16px;
  padding: 14px 20px;
  backdrop-filter: saturate(180%) blur(6px);
  opacity: 0; transform: translateY(-8px); pointer-events: none;
  transition: opacity .35s ease, transform .35s ease, background .35s ease, border-color .35s ease;
}
.nav a{ color: inherit; }
.nav__brand{ font-weight: 800; letter-spacing: .08em; }
.nav__links{ display: flex; gap: 18px; align-items: center; margin-left: 12px; }
.btn{ display: inline-block; padding: 8px 14px; border-radius: 999px; border: 1px solid var(--border); }
.btn--lg{ padding: 12px 18px; font-weight: 600; }

body.state-on .nav{
  opacity: 1; transform: none; pointer-events: auto;
  background: rgba(0,64,61,.55);
  border-bottom: 1px solid var(--border);
}

/* ===== HERO ===== */
.hero{min-height:100svh; display:grid; place-items:center; padding: clamp(24px,2vw,48px);}
.hero__inner{text-align:center;}
.brand{
  display:flex;
  flex-direction: column;
  align-items:center;
  gap: clamp(12px, 1.2vw, 18px);
  z-index:1;
}
.brand__mark{font-weight:800; letter-spacing:.08em; font-size:clamp(26px,2.4vw,44px);}
.headline{margin-top:14px;}
.tagline{margin-top:8px; color:var(--muted);}
.cue{margin-top:48px; opacity:.6; position:relative;}
.cue::after{content:""; position:absolute; left:50%; transform:translateX(-50%); bottom:-18px; width:2px; height:14px; border-radius:2px; background:currentColor; animation:drip 1.6s infinite;}
@keyframes drip{0%{transform:translate(-50%,0);opacity:.9;}100%{transform:translate(-50%,10px);opacity:0;}}

/* ===== SWITCH ===== */
.switch{
  appearance:none;border:0;background:transparent;padding:0;cursor:pointer;outline-offset:4px;
  display:inline-block; line-height:0;
}
.switch__track{
  position:relative; display:inline-block;
  width:128px; height:46px; border-radius:999px;
  background: var(--track-off-bg);
  box-shadow: inset 0 0 0 2px var(--track-off-br);
  transition: background .4s ease, box-shadow .4s ease;
}
.switch__knob{
  position:absolute; inset:4px auto 4px 4px;
  width:38px; height:calc(100% - 8px); border-radius:999px;
  background:var(--knob-off);
  box-shadow: 0 1px 0 rgba(0,0,0,.2), 0 8px 18px -10px rgba(0,0,0,.35);
  transition: transform .45s cubic-bezier(.2,.8,.2,1), background .4s ease, box-shadow .3s ease;
}
body.state-on .switch__track{
  background: var(--track-on-bg);
  box-shadow: inset 0 0 0 2px var(--track-on-br), 0 0 36px -8px rgba(217,255,0,.28);
}
body.state-on .switch__knob{
  transform: translateX(84px);
  background: var(--knob-on);
  box-shadow: 0 0 22px -8px rgba(217,255,0,.35);
}
.switch:focus-visible .switch__track{ outline:2px solid rgba(217,255,0,.6); outline-offset:3px; }

/* Nudge */
.switch-wrap{ position: relative; display: inline-block; }
.nudge{
  position: absolute;
  left: calc(100% + 12px);
  top: 50%;
  transform: translateY(-50%) rotate(-6deg);
  display: inline-flex; align-items: center; gap: 6px;
  opacity: .9;
  animation: nudgeFloat 3s ease-in-out infinite;
}
body.state-on .nudge{
  opacity:0; transform: translateY(-60%) rotate(-6deg);
  pointer-events:none; transition: opacity .35s, transform .35s;
}
.nudge__text{
  font-size: 13px; letter-spacing: .06em; padding: 4px 8px; border-radius: 8px;
  border: 1px dashed var(--border); background: var(--surface);
  box-shadow: 2px 2px 0 rgba(0,0,0,.06);
}
.nudge__arrow{ display:block; filter: drop-shadow(0 1px 0 rgba(0,0,0,.25)); }
@keyframes nudgeFloat{ 0%,100%{ transform: translateY(-50%) rotate(-6deg); } 50%{ transform: translateY(calc(-50% - 2px)) rotate(-6deg); } }

/* ===== OUTCOMES ===== */
.outcomes{padding: clamp(28px,5vw,56px) 0;}
.badges{
  display:flex; flex-wrap:wrap; gap:12px; margin-bottom:24px; list-style:none; padding:0;
}
.badges li{
  border:1px solid var(--border);
  border-radius:999px; padding:8px 12px; background: var(--surface);
}
.fit{display:grid; gap:10px; max-width:860px;}
.fit ul{margin:0; padding-left:18px;}

/* ===== WORK ===== */
.work{padding: clamp(48px,7vw,96px) 0;}
.work h2{margin-bottom:20px;}
.work__grid{display:grid; gap: clamp(16px,2vw,24px); grid-template-columns:repeat(3,minmax(0,1fr));}
.work__card{
  display:block; padding:16px; border-radius:var(--radius);
  border:1px solid var(--border); background: var(--surface);
  transition:transform .25s ease, box-shadow .25s ease, border-color .25s ease;
}
.work__card:hover{ transform:translateY(-3px); box-shadow:0 12px 40px -24px rgba(0,0,0,.4); border-color: rgba(217,255,0,.45); }
.work__art{
  width:100%; aspect-ratio:16/9; border-radius:calc(var(--radius) - 6px); margin-bottom:12px;
  background:
    radial-gradient(60% 60% at 70% 30%, rgba(217,255,0,0.25), transparent),
    linear-gradient(135deg, rgba(0,0,0,0.08), transparent);
}
.link{display:inline-block; margin-top:6px; font-weight:600;}

/* ===== SPLIT ===== */
.split{padding: clamp(48px,7vw,96px) 0; opacity:0; transform:translateY(18px); transition:opacity .6s ease, transform .6s ease;}
body.state-on .split{opacity:1; transform:none;}
.split__inner{display:grid; gap: clamp(28px,4vw,60px); grid-template-columns:repeat(2,minmax(0,1fr));}
.list{list-style:none; margin:0; padding:0; display:grid; gap:10px;}
.list li{padding:10px 0; border-bottom:1px solid var(--border);}

/* ===== APPROACH ===== */
.approach{padding: clamp(48px,7vw,96px) 0;}
.steps{display:grid; gap:16px; grid-template-columns:repeat(3,minmax(0,1fr));}
.step{
  padding:18px; border-radius:var(--radius);
  border:1px solid var(--border); background: var(--surface);
}

/* ===== TEAM ===== */
.team{padding: clamp(48px,7vw,96px) 0;}
.cards{display:grid; gap: clamp(16px,2.5vw,28px); grid-template-columns:repeat(3,minmax(0,1fr));}
.card{
  padding:18px; border-radius:var(--radius);
  border:1px solid var(--border); background: var(--surface);
  transition:transform .25s ease, box-shadow .25s ease, border-color .25s ease;
}
.card:hover{transform:translateY(-3px); box-shadow:0 12px 40px -24px rgba(0,0,0,.4); border-color: rgba(217,255,0,.45);}
.avatar{
  display:block; margin:0 auto 12px; width:140px; aspect-ratio:1/1; object-fit:cover;
  border-radius:999px; border:2px solid rgba(217,255,0,.4); box-shadow:0 10px 30px -18px rgba(0,0,0,.45);
}

/* ===== CTA ===== */
.cta{padding: clamp(48px,7vw,96px) 0;}
.cta__inner{display:grid; place-items:center; gap:16px; text-align:center;}

/* ===== FOOTER ===== */
.footer{padding:40px 0 60px; border-top:1px solid var(--border);}
.footer__inner{display:flex; justify-content:space-between; align-items:center; gap:12px; flex-wrap:wrap;}
.top{font-size:14px;}

/* ===== Tablet/smaller desktop ===== */
@media (max-width: 980px){
  .work__grid, .cards, .steps{ grid-template-columns: 1fr; }
  .split__inner{ grid-template-columns: 1fr; }
  .nav__links{ gap:12px; }
}

/* ===== Mobile refinements (<=640px) ===== */
@media (max-width: 640px){

  /* Safe-area + layout */
  .nav{
    flex-direction: column;
    align-items: center;
    gap: 6px;
    padding: calc(8px + env(safe-area-inset-top)) 12px 8px;
  }
  .nav__links{
    margin-left: 0;
    flex-wrap: wrap;
    justify-content: center;
    gap: 12px 16px;
  }
  .nav .btn{ padding: 6px 10px; font-size: 14px; }

  .container{ padding: 0 16px; }
  .hero{ min-height: 88svh; padding: 20px; }
  .brand{ gap: 10px; }
  .brand__mark{ font-size: 28px; }
  .headline{ font-size: 1.8rem; line-height: 1.15; margin-top: 10px; }
  .tagline{ font-size: .98rem; }
  .cue{ margin-top: 26px; }

  /* Switch (smaller) */
  .switch__track{ width: 96px; height: 38px; }
  .switch__knob{ width: 30px; height: calc(100% - 8px); }
  body.state-on .switch__knob{ transform: translateX(58px); }
  body.state-on .switch__track{
    box-shadow: inset 0 0 0 2px var(--track-on-br), 0 0 22px -10px rgba(217,255,0,.28);
  }

  /* Nudge below */
  .nudge{
    position: static;
    transform: rotate(-6deg);
    margin-top: 8px;
    animation: nudgeFloatMobile 3s ease-in-out infinite;
  }
  @keyframes nudgeFloatMobile{
    0%,100%{ transform: rotate(-6deg) translateY(0); }
    50%    { transform: rotate(-6deg) translateY(-2px); }
  }

  .outcomes, .work, .split, .approach, .team, .cta{ padding: 36px 0; }
  .card, .work__card, .step{ padding: 16px; border-radius: 14px; }
  .avatar{ width: 120px; }
  .footer{ padding: 28px 0 44px; }
}
