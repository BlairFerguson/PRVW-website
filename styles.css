/* ===== TOKENS â€” PRVW palette ===== */
:root{
  --pine: #163735;
  --mist: #A8BEC0;
  --fluoro: #CFF609;
  --frost: #DADEDF;

  /* OFF (initial) */
  --bg: var(--frost);
  --fg: var(--pine);
  --muted:#4a6663;

  /* ON (inverted) */
  --bg-on: var(--pine);
  --fg-on: var(--frost);

  --accent: var(--fluoro);
  --ring: rgba(207,246,9,.35);

  --surface: rgba(22,55,53,0.06);
  --border:  rgba(22,55,53,0.22);

  --surface-on: rgba(218,222,223,0.06);
  --border-on:  rgba(218,222,223,0.22);

  --maxw:1200px;
  --radius:18px;

  --track-off-bg: var(--mist);
  --track-off-br: #89a2a4;
  --track-on-bg: rgba(207,246,9,0.18);
  --track-on-br: rgba(207,246,9,0.65);
  --knob-off: var(--pine);
  --knob-on:  var(--fluoro);
}

@media (prefers-reduced-motion: reduce){
  *{animation:none!important;transition:none!important;}
}

*{box-sizing:border-box;}
html,body{height:100%; overflow-x:hidden;}
html{scroll-behavior:smooth;}
body{
  margin:0;
  font:16px/1.5 Avenir, "Avenir Next", -apple-system, system-ui, "Segoe UI", Roboto, Helvetica, Arial, "Noto Sans";
  background:var(--bg); color:var(--fg);
  transition:background-color .5s ease, color .5s ease;
}
body.state-on{
  background:var(--bg-on); color:var(--fg-on);
  --surface: var(--surface-on);
  --border:  var(--border-on);
}

h1,h2,h3{margin:0 0 .6rem; line-height:1.2;}
h1{font-size:clamp(1.6rem, 1.1rem + 2.2vw, 2.6rem);}
h2{font-size:clamp(1.35rem,1.1rem + 1vw,2rem);}
p{margin:0;}
a{color:var(--accent); text-decoration:none;}
a:hover{text-decoration:underline;}
.container{max-width:var(--maxw); margin:0 auto; padding:0 20px;}

/* ===== IMAGE LOGO VISIBILITY ===== */
.logo{display:block;height:auto;}
.logo--on{display:none;}
.state-on .logo--on{display:block;}
.state-on .logo--off{display:none;}
.logo--nav{width:110px;}
/* bigger hero logo */
.logo--hero{width:clamp(200px, 22vw, 320px);}
.logo--foot{width:110px;}

/* ===== NAV ===== */
.nav{
  position: sticky; top: -1px; z-index: 50;
  display: flex; align-items: center; justify-content: space-between;
  gap: 16px; padding: 14px 20px;
  backdrop-filter: saturate(180%) blur(6px);
  opacity: 0; transform: translateY(-8px); pointer-events: none;
  transition: opacity .35s, transform .35s, background .35s, border-color .35s;
}
.nav a{ color: inherit; }
.nav__brand{ display:inline-flex; align-items:center; }
.nav__links{ display: flex; gap: 18px; align-items: center; margin-left: 12px; }
.btn{ display: inline-block; padding: 8px 14px; border-radius: 999px; border: 1px solid var(--border); }
.btn--lg{ padding: 12px 18px; font-weight: 600; }
body.state-on .nav{
  opacity:1; transform:none; pointer-events:auto;
  background: rgba(22,55,53,.55);
  border-bottom: 1px solid var(--border);
}

/* ===== HERO ===== */
.hero{min-height:100svh; display:grid; place-items:center; padding: clamp(24px,2vw,48px);}
.hero__inner{text-align:center;}
.brand{
  display:flex; flex-direction: column; align-items:center;
  gap: clamp(16px, 2vw, 28px);
  margin-bottom: clamp(24px, 4vw, 56px); /* space below switch */
}
.brand__mark{ display:flex; align-items:center; justify-content:center; }

/* Headline & tagline */
.headline{
  margin-top:14px;
  max-width:1200px; margin-left:auto; margin-right:auto;
  text-wrap: balance; overflow-wrap:anywhere;
}
/* single-line on desktop; mobile wraps */
@media (min-width: 980px){
  .headline{ white-space: nowrap; font-size: clamp(2rem, 2.2vw + 0.6rem, 3.2rem); letter-spacing:-0.015em; }
}

.tagline{
  margin-top:8px; color:var(--muted); max-width: 780px; margin-left:auto; margin-right:auto;
  font-size: clamp(1rem, 0.6rem + 0.9vw, 1.25rem);
}

/* Cue */
.cue{margin-top:28px; opacity:.6; position:relative;}
.cue::after{content:""; position:absolute; left:50%; transform:translateX(-50%); bottom:-18px; width:2px; height:14px; border-radius:2px; background:currentColor; animation:drip 1.6s infinite;}
@keyframes drip{0%{transform:translate(-50%,0);opacity:.9;}100%{transform:translate(-50%,10px);opacity:0;}}

/* ===== SWITCH ===== */
.switch{appearance:none;border:0;background:transparent;padding:0;cursor:pointer;outline-offset:4px;display:inline-block; line-height:0;}
.switch__track{
  position:relative; display:inline-block;
  width:128px; height:46px; border-radius:999px;
  background: var(--track-off-bg);
  box-shadow: inset 0 0 0 2px var(--track-off-br);
  transition: background .4s ease, box-shadow .4s ease;
}
.switch__knob{
  position:absolute; inset:4px auto 4px 4px;
  width:38px; height:calc(100% - 8px); border-radius:999px;
  background:var(--knob-off);
  box-shadow: 0 1px 0 rgba(0,0,0,.2), 0 8px 18px -10px rgba(0,0,0,.35);
  transition: transform .45s cubic-bezier(.2,.8,.2,1), background .4s ease, box-shadow .3s ease;
}
.switch-wrap{
  position: relative; display: inline-block; z-index: 2;
  margin-top: clamp(12px, 2vw, 28px);
  margin-bottom: clamp(12px, 2vw, 28px);
}
body.state-on .switch__track{
  background: var(--track-on-bg);
  box-shadow: inset 0 0 0 2px var(--track-on-br), 0 0 36px -8px rgba(207,246,9,.28);
}
body.state-on .switch__knob{
  transform: translateX(84px);
  background: var(--knob-on);
  box-shadow: 0 0 22px -8px rgba(207,246,9,.35);
}
.switch:focus-visible .switch__track{ outline:2px solid rgba(207,246,9,.6); outline-offset:3px; }

/* ===== NUDGE (try the switch) ===== */
.nudge{
  position: absolute;
  left: calc(100% + 14px);
  top: 50%;
  transform: translateY(-50%);
  display: inline-flex;
  align-items: center;
  gap: 8px;
  opacity: 1;                 /* visible on OFF */
  transition: opacity .35s ease, transform .35s ease;
}
.nudge__card{
  font-size: 13px;
  font-weight: 600;
  letter-spacing: .02em;
  padding: 6px 10px;
  border-radius: 10px;
  border: 1px dashed var(--border);
  background: var(--surface);
  color: inherit;
  box-shadow: 2px 2px 0 rgba(0,0,0,.06);
}
.nudge__arrow{
  display:block;
  filter: drop-shadow(0 1px 0 rgba(0,0,0,.25));
  animation: nudgeFloat 3s ease-in-out infinite;
}
@keyframes nudgeFloat{ 0%,100%{ transform: translateY(0); } 50%{ transform: translateY(-2px); } }
.state-on .nudge{ opacity:0; pointer-events:none; transform: translateY(-50%) scale(.98); }
@media (max-width: 640px){
  .nudge{ left: 50%; top: calc(100% + 10px); transform: translate(-50%, 0); }
}

/* ===== WHY ===== */
.why{padding: clamp(48px,7vw,96px) 0;}
.cards{display:grid; gap: clamp(16px,2.5vw,28px); grid-template-columns:repeat(3,minmax(0,1fr));}
.cards--equal .card{display:flex; flex-direction:column;}
.card{padding:18px; border-radius:var(--radius); border:1px solid var(--border); background: var(--surface); transition:transform .25s, box-shadow .25s, border-color .25s;}
.card:hover{transform:translateY(-3px); box-shadow:0 12px 40px -24px rgba(0,0,0,.4); border-color: rgba(207,246,9,.45);}
.why .cards{ grid-template-columns: repeat(2, minmax(0,1fr)); }
.why .card h3{ color: var(--accent); }

/* ===== WHAT WE DO ===== */
.what{padding: clamp(48px,7vw,96px) 0;}
.triple{display:grid; gap: clamp(16px,2vw,24px); grid-template-columns:repeat(3,minmax(0,1fr));}
.panel{padding:18px; border-radius:var(--radius); border:1px solid var(--border); background:var(--surface);}
.what .panel h3{ color: var(--accent); }

/* ===== (Capabilities removed in HTML; styles retained harmlessly) ===== */
.split{padding: clamp(48px,7vw,96px) 0; opacity:0; transform:translateY(18px); transition:opacity .6s ease, transform .6s ease;}
.state-on .split{opacity:1; transform:none;}
.split__inner{display:grid; gap: clamp(28px,4vw,60px); grid-template-columns:repeat(2,minmax(0,1fr));}
.list{list-style:none; margin:0; padding:0; display:grid; gap:10px;}
.list li{padding:10px 0; border-bottom:1px solid var(--border);}

/* ===== APPROACH / PATHWAY ===== */
.approach{padding: clamp(48px,7vw,96px) 0;}
.steps{display:grid; gap:16px; grid-template-columns:repeat(3,minmax(0,1fr));}
.steps--five{ grid-template-columns: repeat(5,minmax(0,1fr)); }
.step{padding:18px; border-radius:var(--radius); border:1px solid var(--border); background: var(--surface);}
.approach .step h3{ color: var(--accent); }
.nowrap{ white-space:nowrap; }

/* ===== PILLARS ===== */
.pillars{padding: clamp(48px,7vw,96px) 0;}
.pillars .cards{ grid-template-columns: repeat(5, minmax(0,1fr)); }
.pillars .card h3{
  color: var(--accent);
  /* FIX: prevent title overflow on narrow screens */
  overflow-wrap:anywhere; word-break:normal; hyphens:auto;
}
.pillars .subtitle{ margin: 6px 0 14px; opacity:.85; }

/* ===== TEAM ===== */
.team{padding: clamp(48px,7vw,96px) 0;}
.team .card{ text-align:center; }
.avatar{display:block; margin:0 auto 12px; width:140px; aspect-ratio:1/1; object-fit:cover; border-radius:999px; border:2px solid rgba(207,246,9,.4); box-shadow:0 10px 30px -18px rgba(0,0,0,.45);}
.team h3{ color: var(--accent); }

/* ===== CTA ===== */
.cta{padding: clamp(48px,7vw,96px) 0;}
.cta__inner{display:grid; place-items:center; gap:16px; text-align:center;}

/* ===== FOOTER ===== */
.footer{padding:40px 0 60px; border-top:1px solid var(--border);}
.footer__inner{display:flex; justify-content:space-between; align-items:center; gap:12px; flex-wrap:wrap;}
.footer__brand{display:flex; align-items:center; gap:10px;}
.top{font-size:14px;}

/* ===== Tablet ===== */
@media (max-width: 1120px){
  .steps--five{ grid-template-columns: repeat(3, minmax(0,1fr)); }
  .pillars .cards{ grid-template-columns: repeat(3, minmax(0,1fr)); }
}
@media (max-width: 980px){
  .cards, .steps{ grid-template-columns: 1fr; }
  .split__inner{ grid-template-columns: 1fr; }
  .nav__links{ gap:12px; }
  .triple{ grid-template-columns: 1fr; }
}

/* ===== Mobile (<=640px) ===== */
@media (max-width: 640px){
  .nav{ flex-direction: column; align-items: center; gap: 6px; padding: calc(8px + env(safe-area-inset-top)) 12px 8px; }
  .nav__links{ margin-left:0; flex-wrap:wrap; justify-content:center; gap:12px 16px; }
  .nav .btn{ padding:6px 10px; font-size:14px; }

  .container{ padding:0 16px; }
  .hero{ min-height: 88svh; padding: 20px; }
  .headline{ font-size:1.8rem; line-height:1.15; margin-top:10px; white-space:normal; } /* wrap on small screens */
  .tagline{ font-size:1rem; }
  .cue{ margin-top:26px; }

  .logo--nav, .logo--foot{ width:100px; }
  .logo--hero{ width:190px; }            /* gentle bump on mobile */
  .brand{ margin-bottom: 28px; }

  .switch__track{ width:96px; height:38px; }
  .switch__knob{ width:30px; height:calc(100% - 8px); }
  .state-on .switch__knob{ transform: translateX(58px); }
  .state-on .switch__track{ box-shadow: inset 0 0 0 2px var(--track-on-br), 0 0 22px -10px rgba(207,246,9,.28); }

  .why, .what, .split, .approach, .pillars, .team, .cta{ padding:36px 0; }
  .card, .step, .panel{ padding:16px; border-radius:14px; }
  .avatar{ width:120px; }
  .footer{ padding:28px 0 44px; }
}

/* ===== Section underline (not on CTA) ===== */
section h2{
  border-bottom:2px solid var(--accent);
  display:inline-block;
  padding-bottom:4px;
}
.cta h2{ border-bottom:none; }

/* ===== MOBILE PATCH (overrides to fix nudge placement & layering) ===== */
@media (max-width: 640px){
  .switch-wrap{ z-index: 5; }            /* keep label above nearby text */
  .nudge{
    position: static !important;         /* flow under the switch on mobile */
    transform: none !important;
    margin-top: 8px;
  }
  .brand{ margin-bottom: 34px; }         /* extra breathing room for hero title */
}
